(this["webpackJsonpreddit-react"]=this["webpackJsonpreddit-react"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var c=a(0),r=a(1),n=a.n(r),s=a(7),i=a.n(s),l=a(4),o=a.n(l),d=a(8),j=a(2),u=a(9),m=(a(16),function(e){return function(t){return t.caughtError?Object(c.jsx)("div",{className:"container text-center mt-3 alert alert-danger",children:Object(c.jsx)("p",{children:"We can't find any results."})}):t.isLoading||t.caughtError?Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:"p-5",children:[Object(c.jsxs)("div",{className:"loader",children:[Object(c.jsx)("span",{className:"animation-ball"}),Object(c.jsx)("span",{className:"animation-ball"}),Object(c.jsx)("span",{className:"animation-ball"})]}),Object(c.jsx)("h6",{className:"text-center",children:"Loading..."})]})}):Object(c.jsx)(e,Object(u.a)({},t))}}),b=(a(17),function(){return Object(c.jsx)("div",{className:"fluid-container",children:Object(c.jsxs)("div",{className:"header text-center py-3 mb-4",children:[Object(c.jsx)("h1",{className:"h4",children:"Reddit React"}),Object(c.jsx)("h2",{className:"h6",children:"Lightweight client for desktop and mobile"})]})})});a(18);function h(e){return Object(c.jsx)("div",{className:"actions-bar mb-2",children:Object(c.jsxs)("form",{onSubmit:e.submitRedditSearch,children:[Object(c.jsx)("span",{className:"fa fa-search form-control-feedback"}),Object(c.jsx)("input",{type:"text",name:"search",className:"form-control",placeholder:"Subreddit Name..."})]})})}var p=a(5),x=a.n(p),f=a(6),O=a.n(f),v=(a(20),function(e){var t=[];return e.awards.map((function(e){return t.push({id:e.id,name:e.name,count:e.count,url:e.resized_icons[1].url.replace(/amp;/gi,"")})})),Object(c.jsxs)("div",{onClick:function(){window.open(e.permalink,"_blank")},className:"m-3 p-3 post",children:[Object(c.jsxs)("div",{className:"metadata",children:[Object(c.jsx)("span",{className:"posted",children:"Posted by"}),Object(c.jsx)("span",{className:"author",children:Object(c.jsxs)("a",{href:"https://reddit.com/user/"+e.author,target:"_blank",rel:"noopener noreferrer",children:["u/",e.author]})}),e.authorFlairText&&Object(c.jsx)("span",{className:"flair-text",children:e.authorFlairText}),Object(c.jsx)("span",{className:"date",children:e.dateCreated}),t.map((function(e){return Object(c.jsxs)("span",{children:[Object(c.jsx)("span",{children:Object(c.jsx)("img",{className:"award-icon",src:e.url,alt:e.name})}),Object(c.jsx)("span",{children:e.count})]},e.id)}))]}),Object(c.jsxs)("div",{className:"mt-2 post-title",children:[e.linkFlair&&Object(c.jsx)("span",{className:"link-flair",style:{backgroundColor:e.linkFlairBackground,color:e.linkFlairColor},children:e.linkFlair}),Object(c.jsx)("span",{className:"title",children:e.title})]}),null===e.imageSrc?Object(c.jsx)("div",{className:"post-link",children:Object(c.jsx)("a",{href:e.url,children:e.url})}):Object(c.jsx)("div",{className:"image text-center",children:Object(c.jsx)("img",{className:"p-3",src:e.imageSrc,alt:e.title})}),Object(c.jsxs)("div",{className:"info pt-2",children:[Object(c.jsxs)("span",{children:[Object(c.jsx)("i",{className:"fas fa-arrow-up mr-1"}),e.upVotes]}),Object(c.jsxs)("span",{children:[Object(c.jsx)("i",{className:"fas fa-comment mr-1"}),e.comments," Comments"]})]})]})}),N=(a(21),m((function(e){var t=e.posts?e.posts.map((function(e){return e.data})):[];return Object(c.jsx)("div",{className:"post-list",children:t.map((function(e){var t=x.a.unix(e.created_utc).format("YYYYMMDD"),a=x()("".concat(t),"YYYYMMDD").fromNow(),r=e.url.endsWith(".jpg")?e.url:null,n="light"===e.link_flair_text_color?"#FFFFFF":"#000000";return Object(c.jsx)(v,{id:e.id,linkFlair:e.link_flair_text,linkFlairBackground:e.link_flair_background_color,linkFlairColor:n,author:e.author,authorFlairText:e.author_flair_text,awards:e.all_awardings,dateCreated:a,title:e.title.replace(/amp;/gi,""),imageSrc:e.preview?e.preview.images[0].source.url.replace(/amp;/gi,""):r,media:e.media?e.media:null,permalink:"https://reddit.com".concat(e.permalink),upVotes:O()(e.ups).format("0.0a"),comments:O()(e.num_comments).format("0.0a"),url:e.url},e.id)}))})}))),g=function(){var e=Object(r.useState)(null),t=Object(j.a)(e,2),a=t[0],n=t[1],s=Object(r.useState)(!1),i=Object(j.a)(s,2),l=i[0],u=i[1],m=Object(r.useState)(!1),p=Object(j.a)(m,2),x=p[0],f=p[1],O=function(){var e=Object(d.a)(o.a.mark((function e(){var t,a,c,r,s,i=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]&&i[0],e.prev=1,u(!0),e.next=5,fetch(t?"https://www.reddit.com/r/".concat(t,"/top.json?t=today&limit=50"):"https://www.reddit.com/top.json?t=today&limit=50");case 5:return a=e.sent,e.next=8,a.json();case 8:c=e.sent,r=c.data.children.map((function(e){return e})),s=r.filter((function(e){return!1===e.data.over_18})),n(s),u(!1),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),f(!0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){O()}),[]);return Object(c.jsxs)("div",{children:[Object(c.jsx)(b,{}),Object(c.jsx)(h,{submitRedditSearch:function(e){e.preventDefault(),f(!1);var t=e.target.elements.search.value;O(t)}}),Object(c.jsx)(N,{caughtError:x,isLoading:l,posts:a})]})};i.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(g,{})}),document.getElementById("RedditReact"))}],[[22,1,2]]]);
//# sourceMappingURL=main.ece3c941.chunk.js.map